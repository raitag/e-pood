$searchBoxWidth: 180px;// 150px for small devices
$focusedSearchBoxWidth:280px;
$searchBoxHeight:32px;
$searchBoxBg:#754292;

.searchbox-responsive {
  position: relative;
  margin: 0;
  padding: 0;
  width: $searchBoxWidth;
  height: 50px;
  right: 15px;

  &.navbar-form {
    border: 0;
    .form-group {
      display: block;
      height: inherit;

      .twitter-typeahead {
        border-radius: 4px;
        display: block!important;
        height: $searchBoxHeight;
        position: absolute!important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        width: $searchBoxWidth;
      }
      .form-control {
        box-shadow: 0 0 0;
        &::-webkit-input-placeholder {
          color: rgba(194, 177, 205, 1);
        }
        &::-moz-placeholder {
          color: rgba(194, 177, 205, 1);
        }
        &:-moz-placeholder {   /* Older versions of Firefox */
          color: rgba(194, 177, 205, 1);
        }
        &:-ms-input-placeholder {
          color: rgba(194, 177, 205, 1);
        }
      }
      input[type="text"] {
        font-size: $font-size-base - 1;
        display: inline-block;
        border: none;
        outline: none;
        color: #c2b1cd; //$gray-light;
        padding: 3px 35px 3px 10px;
        width: inherit;//$searchBoxWidth;
        height: $searchBoxHeight;
        position: relative;
        right: 0;
        z-index: 3;
        cursor: default;
        background: rgba(246, 246, 246, 0.1) !important;
        @include transition(background 0.3s ease);
      }
      input[placeholder], [placeholder], *[placeholder] {
        color: rgba(250, 250, 250, 0.5);
      }
    }

    button {
      display: inline-block;
      color: $white;
      float: right;
      border: none;
      position: absolute;
      right: 2px;
      z-index: 3;
      cursor: pointer;
      width: auto;
      top: 50% !important;
      transform: translateY(-50%) !important;

      &.focus {
        color: $brand__link;
      }

      > span[class*="icon"] {
        padding: 7px;
        font-size: $font-size-base + 2;
      }
    }

    &.focus {
      .form-group {
        width: 290px;
            background: $brand-primary;
            position: absolute;
            right: 0;
        input[type="text"] {
          color: #333;
          background: rgba(246, 246, 246, 1) !important;
        }

      }
      button {
        color: $brand__link;
      }
      @media screen and ( min-width:900px )  {
        .twitter-typeahead {
          right: 0;
          width: $focusedSearchBoxWidth;
          input[type="text"]{
            width: inherit;
          }
        }
      }
    }
  }
  .tt-menu {
    background-color: #f6f6f6;

    width: 100%;
    top: 90% !important;

    .tt-dataset {
      box-shadow: 0 2px 2px rgba(0,0,0,0.2);
      margin-top: 10px;
      > div {
        &:hover {
          /*background-color: #fff;*/
          color: $brand__link;

          &:before {
            content: "";
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 1px;
            left: 0;
            background-color:#fff;
            z-index: 2;
          }
        }
      }
      .tt-suggestion {
        padding: 10px 10px;
        position: relative;
        cursor: pointer;
        display: table;
        width: 100%;

        &:before {
          content: "";
          display: block;
          width: 93.5%;
          height: 1px;
          position: absolute;
          top: 0;
          left: 10px;
          background-color:darken(#f6f6f6, 10%);
          z-index: 1;
        }

        img {
          left: 10px;
          max-width: 30px;
          position: absolute;
          top: 50% !important;
          transform: translateY(-50%) !important;
          z-index: 3;
        }
        span {
          display: table-cell;
          vertical-align: middle;
          padding-left: 40px;
          min-height: 32px;
          position: relative;
          z-index: 3;
        }
      }

      .empty-message {
        padding: 10px;
      }

      .tt-footer {
        position: relative;
        width: 100%;
        min-height: 50px;

        &:before {
          content: "";
          display: block;
          width: 90%;
          height: 1px;
          position: absolute;
          top: 0;
          left: 10px;
          background-color:darken(#f6f6f6, 10%);
          z-index: 1;
        }

        a {
          position: absolute;
          top: 50% !important;
          transform: translateY(-50%) !important;
          left:0;
          right:0;
          margin-left:auto;
          margin-right:auto;
          text-align: center;
          z-index: 4;

          &:hover {
            text-decoration: none;
          }
        }
      }
    }

  }
  @media (min-width: 768px) and (max-width: 940px) {
    &.navbar-form {
      width: 40px;
      .form-group {
        .twitter-typeahead {
          width: 40px;
          right: 0;
          input[type="text"] {
            width: inherit;
            padding-right: 30px;
            background-color: transparent !important;
          }
        }
      }
      .btn-search {
        pointer-events: none;
        right: 4px;
      }
      &.focus {
        .btn-search {
            pointer-events: auto;
        }
        .twitter-typeahead {
          width: 280px;
          input[type="text"] {
            padding-right: 35px;
            background: #f6f6f6 !important;
          }
        }
      }
    }
  }
}
